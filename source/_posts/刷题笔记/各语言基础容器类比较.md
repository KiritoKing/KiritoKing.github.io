---
title: 各语言的基础容器类横向比较
abbrlink: 3621095802
date: 2023-04-14 00:00:00
---



# 基础容器类

刷题时难免需要接触到一些基础容器来存放数据，在C++中是`STL`，在C#里则是`System.Generics.Collections`。

这里专门探究一下相关容器的**实现、性质和用法**。

## C# 中的容器类

在官方文档中，我们可以看到 `System.Generics.Collections` 命名空间下定义了以下类：

- `Comparer<T>`
- `Dictionary<TKey, TValue>`
- `HashSet<T>`
- `LinkedList<T>` & `LinkedListNode<T>`
- `List<T>`
- `Queue<T>`
- `Stack<T>`

从数据结构的角度，我们可以把上述的类型分为以下三类：

- 散列型：`Dictionary`, `HashSet`
- 列表型（连续存储）：`List`, `Queue`, `Stack`
- 链表型：`LinkedList`

### 散列（Hash）容器

一般来说，C#中散列容器有三种：`HashTable`, `HashSet` 和 `Dictionary`。

`HashTable`是不支持泛型的，定义在`System.Collections`命名空间中；其他两种都支持泛型。

*需要注意的是：.NET在模仿Java过程的过程中抛弃了`HashMap`，因此C#中是没有`HashMap`类的（Java中`HashTable`是基于`Dictionary`类构建的，是同步的；`HashMap`是基于Java1.2中引入的`Map`接口实现的，是异步的）*

#### HashTable & Dictionary

哈希表(`HashTable`)表示键/值对的集合。在.NET Framework中，`Hashtable`是`System.Collections`命名空间提供的一个容器，用于处理和表现类似key-value的键值对，其中key通常可用来快速查找，同时key是区分大小写；value用于存储对应于key的值。

`HashTable`中key-value键值对均为object类型，所以`HashTable`可以支持任何类型的key-value键值对，任何非 null 对象都可以用作键或值。

- Hashtable 的元素属于 Object 类型，所以在存储或检索值类型时通常发生装箱和拆箱的操作，所以你可能需要进行一些类型转换的操作，而且对于int,float这些值类型还需要进行装箱等操作，非常耗时
- 单线程程序中推荐使用 Dictionary, 有泛型优势, 且读取速度较快, 容量利用更充分。多线程程序中推荐使用 Hashtable, 默认的 Hashtable 允许单线程写入, 多线程读取, 对 Hashtable 进一步调用 Synchronized() 方法可以获得完全线程安全的类型. 而 Dictionary 非线程安全, 必须人为使用 lock 语句进行保护, 效率大减。

#### HashSet

HashSet类主要是设计用来做高性能集运算的，强调其**集合**属性，即一组不重复出现且无特性顺序的元素。

### 列表容器

